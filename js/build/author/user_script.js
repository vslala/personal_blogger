// Generated by CoffeeScript 1.10.0
(function() {
  $(function() {
    $('#image_form').submit(function(event) {
      var data, links, loading, url;
      event.preventDefault();
      loading = "<div id='loader'><img src='http://www.west-info.eu/files/grey-dots.gif' style='height: 75px;' /></div>";
      links = $('#return_server_links');
      $(links).append(loading);
      url = $(this).attr('action');
      data = $(this).serialize();
      return $.ajax({
        url: url,
        type: 'POST',
        data: data,
        success: function(data) {
          data = $.parseJSON(data);
          $(links).append('<p>' + data.url + '</p>');
          $('#loader').remove();
          return null;
        },
        error: function(xhr, status, msg) {
          return console.log(xhr.responseText);
        }
      });
    });
    return CKEDITOR.replace('blog_content');
  });

  $('.userProfileForm').submit(function(event) {
    var data, url;
    event.preventDefault();
    url = $(this).attr('action');
    data = $(this).serialize();
    return $.ajax({
      url: url,
      data: data,
      type: 'POST',
      success: function(data) {
        return Materialize.toast('Updated Successfully!!!', 5000, 'rounded');
      },
      error: function(xhr, status, msg) {
        return console.log(xhr);
      }
    });
  });

  $('#social_handle_form').submit(function(event) {
    var $parentRow, data, url;
    event.preventDefault();
    $parentRow = $(this).parents(".row");
    $parentRow = $parentRow[$parentRow.length - 1];
    data = $(this).serialize();
    url = $(this).attr('action');
    return $.ajax({
      url: url,
      type: 'POST',
      data: data,
      success: function(data) {
        return Materialize.toast('Data Saved Successfully! Refresh!', 5000, 'rounded');
      },
      error: function(xhr, status, msg) {
        return console.log(xhr.responseText);
      }
    });
  });

  getCurrentDate(function() {
    var currentDate, date, day, month, year;
    date = new Date();
    day = date.getDate();
    month = date.getMonth() + 1;
    year = date.getFullYear();
    currentDate = year + '/' + month + '/' + day;
    return currentDate;
  });

}).call(this);
